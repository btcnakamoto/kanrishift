<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚·ãƒ§ãƒ¼ãƒ«ãƒ¼ãƒ ç®¡ç†</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, minmax(0, 1fr));
    }
  </style>
  <script>
function updateTotalCustomerQuota() {
  let total = 0;
  for (let i = 0; i < 7; i++) {
    let sum = 0;
    ['æ–°ç¯‰', 'RF', 'é‡‘å±åˆ¶é™æ ', 'EXTåˆ¶é™æ ', 'ç«¯æœ«å°æ•°æ '].forEach(label => {
      const row = Array.from(document.querySelectorAll('tr')).find(tr => tr.querySelector('td')?.textContent?.trim() === label);
      const inputs = row?.querySelectorAll('input');
      if (inputs?.[i]) {
        sum += parseInt(inputs[i].value || 0, 10);
      }
    });
    const sumCell = document.querySelector('tr:has(td:contains("æ¥å®¢äºˆç´„æ æ•°")) td:nth-child(' + (i + 2) + ')');
    if (sumCell) sumCell.innerText = sum;
    total += sum;
  }
  document.getElementById('total-customer-quota').innerText = total;
}

document.addEventListener('DOMContentLoaded', function () {
  const inputs = Array.from(document.querySelectorAll('tr input'));
  inputs.forEach(input => input.addEventListener('input', updateTotalCustomerQuota));
  updateTotalCustomerQuota();
  const newBuildInputs = document.querySelectorAll('tr:has(td:contains("æ–°ç¯‰")) input');
  const rfInputs = document.querySelectorAll('tr:has(td:contains("RF")) input');
  [...newBuildInputs, ...rfInputs].forEach(input => {
    input.addEventListener('input', updateTotalCustomerQuota);
  });
  updateTotalCustomerQuota();
});
    function switchToSetting(year = 2025, month = 3, day = 1) {
      const calendarSection = document.getElementById('calendarSection');
      const settingSection = document.getElementById('settingSection');
      calendarSection.classList.add('hidden');
      document.getElementById('showroomInfo').classList.add('hidden');
      settingSection.classList.remove('hidden');
      document.getElementById('settingTitle').textContent = `äºˆç´„æ è¨­å®š - ${year}å¹´${month}æœˆ${day}æ—¥`;
      settingSection.dataset.selected = `${year}-${month}-${day}`;
      localStorage.setItem('selectedDate', `${year}-${month}-${day}`);
    }
  </script>
</head>
<body class="bg-gradient-to-b from-gray-50 to-white text-sm font-sans min-h-screen">
  <header class="bg-white shadow-md p-5 flex justify-between items-center border-b border-gray-200">
    <h1 class="text-xl font-bold text-gray-800">
      <span class="text-orange-500">ã‚·ãƒ§ãƒ¼ãƒ«ãƒ¼ãƒ </span><span class="text-gray-700">äºˆç´„ç®¡ç†</span>
    </h1>
    <div>
      <button id="tabCalendar" class="text-sm text-orange-500 border-b-2 border-orange-500 px-2 pb-1">ğŸ“… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</button>
    </div>
  </header>

  <main class="p-6 space-y-6">
    <section id="showroomInfo" class="max-w-5xl mx-auto mb-6">
      <h2 class="text-base font-bold text-gray-800 mb-2">ã‚·ãƒ§ãƒ¼ãƒ«ãƒ¼ãƒ æ±äº¬</h2>
      <div class="bg-white shadow rounded p-4">
        <div class="overflow-x-auto bg-white rounded-lg shadow-inner border border-gray-200">
          <table class="min-w-full text-center text-xs table-fixed">
            <thead>
              <tr>
                <th class="px-1 py-1">ã‚·ãƒ§ãƒ¼ãƒ«ãƒ¼ãƒ </th>
                <th class="px-1 py-1">3æœˆ</th><th class="px-1 py-1">4æœˆ</th><th class="px-1 py-1">5æœˆ</th><th class="px-1 py-1">6æœˆ</th>
                <th class="px-1 py-1">7æœˆ</th><th class="px-1 py-1">8æœˆ</th><th class="px-1 py-1">9æœˆ</th><th class="px-1 py-1">10æœˆ</th>
                <th class="px-1 py-1">11æœˆ</th><th class="px-1 py-1">12æœˆ</th><th class="px-1 py-1">1æœˆ</th><th class="px-1 py-1">2æœˆ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="px-2 py-1 text-left">
                  LIXILæ±äº¬ã‚·ãƒ§ãƒ¼ãƒ«ãƒ¼ãƒ ï¼ˆã‚­ãƒƒãƒãƒ³ã€æµ´å®¤ã€æ´—é¢åŒ–ç²§å°ã€ãƒˆã‚¤ãƒ¬ã€ã‚¨ã‚³ã‚«ãƒ©ãƒƒãƒˆï¼‰
                </td>
                <td class="px-1 py-1"><span class="text-green-600 text-xs">ç·¨é›†</span></td>
                <td class="px-1 py-1"><span class="text-green-600 text-xs">ç·¨é›†</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
                <td class="px-1 py-1"><span class="text-red-500 text-xs">æœª</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="calendarSection" class="bg-white rounded-xl shadow-md p-6 max-w-7xl mx-auto border border-gray-100">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <div class="flex items-center justify-between mb-4" id="calendarTitle3"></div>
          <div id="calendarGrid3" class="calendar-grid text-center border border-gray-200 rounded overflow-hidden text-sm"></div>
        </div>
        <div>
          <div class="flex items-center justify-between mb-4" id="calendarTitle4"></div>
          <div id="calendarGrid4" class="calendar-grid text-center border border-gray-200 rounded overflow-hidden text-sm"></div>
        </div>
      </div>
    </section>

    <section id="settingSection" class="hidden relative bg-white rounded-xl shadow-md p-6 max-w-5xl mx-auto border border-gray-100">
      <button id="backToCalendar" class="absolute right-4 top-4 text-sm text-blue-600 hover:underline">â† ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¸æˆ»ã‚‹</button>
      <h2 id="settingTitle" class="text-lg font-semibold text-gray-800 mb-4">äºˆç´„æ è¨­å®š</h2>
      <div class="space-y-2 mb-6">
        <div class="bg-red-50 text-sm px-4 py-2 rounded flex items-center">
          <span class="mr-2">ğŸ‘¥ å‡ºå‹¤äººæ•°ï¼š</span><strong>8åï¼ˆæ™‚çŸ­1åï¼‰</strong>
        </div>
        <div class="bg-blue-50 text-sm px-4 py-2 rounded flex items-center">
          <span class="mr-2">ğŸ™‹â€â™‚ï¸ æ¥å®¢äººæ•°ï¼š</span><strong>5åï¼ˆæ™‚çŸ­1åï¼‰</strong>
        </div>
      </div>

      <div class="border rounded overflow-hidden mb-6">
        <div class="bg-gray-100 font-bold p-2">ç¾åœ¨ã®äºˆç´„çŠ¶æ³</div>
        <table class="w-full text-center border-t border-gray-200">
          <thead class="bg-gray-50 text-gray-700">
            <tr>
              <th class="p-2">æ¥å®¢äºˆç´„</th>
              <th class="p-2">10:00</th><th class="p-2">11:00</th><th class="p-2">12:00</th>
              <th class="p-2">13:00</th><th class="p-2">14:00</th><th class="p-2">15:00</th><th class="p-2">16:00</th>
              <th class="p-2">åˆè¨ˆ</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-t">
  <td class="p-2 font-medium">æ¥å®¢äºˆç´„ ç·æ•°</td>
  <td class="p-2">7</td><td class="p-2">5</td><td class="p-2">0</td>
  <td class="p-2">2</td><td class="p-2">1</td><td class="p-2">3</td><td class="p-2">4</td>
  <td class="p-2">22</td>
</tr>
<tr>
  <td class="p-2 font-medium">æ–°ç¯‰</td>
  <td class="p-2">4</td><td class="p-2">2</td><td class="p-2">0</td>
  <td class="p-2">1</td><td class="p-2">0</td><td class="p-2">2</td><td class="p-2">1</td>
  <td class="p-2">10</td>
</tr>
<tr>
  <td class="p-2 font-medium">RF</td>
  <td class="p-2">3</td><td class="p-2">3</td><td class="p-2">0</td>
  <td class="p-2">1</td><td class="p-2">1</td><td class="p-2">1</td><td class="p-2">3</td>
  <td class="p-2">12</td>
</tr>
            <tr class="bg-blue-50">
  <td class="p-2 font-medium">ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆäºˆç´„æ•°</td>
  <td class="p-2">2</td><td class="p-2">2</td><td class="p-2">0</td>
  <td class="p-2">0</td><td class="p-2">0</td><td class="p-2">0</td><td class="p-2">0</td>
  <td class="p-2">4</td>
</tr>
<tr class="bg-blue-50">
  <td class="p-2 font-medium">ã‚»ãƒ«ãƒ•äºˆç´„æ•°</td>
  <td class="p-2">1</td><td class="p-2">1</td><td class="p-2">0</td>
  <td class="p-2">0</td><td class="p-2">0</td><td class="p-2">0</td><td class="p-2">0</td>
  <td class="p-2">2</td>
</tr>
          </tbody>
        </table>
      </div>

      <div class="border rounded overflow-hidden mb-6">
        <div class="bg-orange-100 font-bold p-2">äºˆç´„æ æ•°è¨­å®š</div>
        <table class="w-full text-center border-t border-gray-200">
          <thead class="bg-gray-50 text-gray-700">
            <tr>
              <th class="p-2">æ¥å®¢æ </th>
              <th class="p-2">10:00</th><th class="p-2">11:00</th><th class="p-2">12:00</th>
              <th class="p-2">13:00</th><th class="p-2">14:00</th><th class="p-2">15:00</th><th class="p-2">16:00</th>
              <th class="p-2">åˆè¨ˆ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
  <td class="p-2 font-medium">æ¥å®¢äºˆç´„æ æ•°</td><td class="p-2 text-gray-600" id="total-customer-quota">0</td>
</tr>
<tr>
  <td class="p-2 font-medium">æ–°ç¯‰</td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2 text-gray-600">35</td>
</tr>
<tr>
  <td class="p-2 font-medium">RF</td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="5"></td>
  <td class="p-2 text-gray-600">35</td>
</tr>
            
            <tr>
  <td class="p-2 font-medium">é‡‘å±åˆ¶é™æ </td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2 text-gray-600">14</td>
</tr>
<tr>
  <td class="p-2 font-medium">EXTåˆ¶é™æ </td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="0"></td>
  <td class="p-2 text-gray-600">0</td>
</tr>
<tr>
  <td class="p-2 font-medium">ç«¯æœ«å°æ•°æ </td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2"><input type="number" class="w-16 border rounded px-1 py-0.5 text-center" value="2"></td>
  <td class="p-2 text-gray-600">14</td>
</tr>
<tr>
  <td class="p-2 font-medium">ã‚»ãƒ«ãƒ•äºˆç´„æ </td>
  <td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td><td class="p-2">åˆ¶é™ç„¡</td>
  <td class="p-2 text-gray-600">-</td>
</tr>
          </tbody>
        </table>
      </div>

      <div class="text-sm bg-gray-50 p-4 rounded border mb-6">
        <div>3æœˆ</div>
        <div class="grid grid-cols-3 gap-4 mt-2">
          <div>æœˆé–“ç·äºˆç´„æ•°ï¼š<strong>350ä»¶</strong></div>
          <div>æœˆã®ç·äºˆç´„æ æ•°ï¼š<strong>320ä»¶</strong></div>
          <div>ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆäºˆç´„æ•°ï¼š<strong>25ä»¶</strong></div>
        </div>
      </div>

      <div class="text-center">
        <button class="bg-orange-500 hover:bg-orange-600 text-white text-sm px-6 py-2 rounded">äºˆç´„æ å…¬é–‹</button>
      </div>
    </section>
  </main>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll('#showroomInfo thead th:nth-child(n+2), #showroomInfo tbody td:nth-child(n+2) span')
      .forEach((el, index) => {
        el.classList.add('cursor-pointer');
        el.addEventListener('click', () => {
          const clickedMonth = ((index + 3 - 1) % 12) + 1;
          const nextMonth = (clickedMonth % 12) + 1;
          const clickedYear = clickedMonth <= 2 ? 2026 : 2025;
          const nextYear = nextMonth <= 2 && clickedMonth >= 12 ? clickedYear + 1 : clickedYear;

          renderCalendar(1, getDaysInMonth(clickedYear, clickedMonth), clickedYear, clickedMonth, calendarGrid3);
          renderCalendar(1, getDaysInMonth(nextYear, nextMonth), nextYear, nextMonth, calendarGrid4);
          updateCalendarTitle('calendarTitle3', clickedYear, clickedMonth);
          updateCalendarTitle('calendarTitle4', nextYear, nextMonth);
        });
      });
    const calendarGrid3 = document.getElementById('calendarGrid3');
    const calendarGrid4 = document.getElementById('calendarGrid4');

    function getDaysInMonth(year, month) {
      return new Date(year, month, 0).getDate();
    }

    function isPublic(month) {
      return [3, 4].includes(month);
    }

    function updateCalendarTitle(id, year, month) {
      const titleDiv = document.getElementById(id);
      const iså…¬é–‹ = isPublic(month);
      titleDiv.innerHTML = `<h2 class="text-lg font-semibold text-gray-800">${year}å¹´${month}æœˆ</h2><span class="text-xs font-medium text-white ${iså…¬é–‹ ? 'bg-green-500' : 'bg-gray-400'} rounded-full px-3 py-1">${iså…¬é–‹ ? 'å…¬é–‹æ¸ˆ' : 'æœªå…¬é–‹'}</span>`;
    }

    function renderCalendar(startIndex, totalDays, year, month, container) {
      const weekdays = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
      const cells = weekdays.map((d, i) => `<div class="py-2 font-medium ${i==0?'bg-red-100':i==6?'bg-blue-100':'bg-gray-100'}">${d}</div>`);
      for (let i = 0; i < startIndex; i++) cells.push('<div class="py-3 border-t border-gray-200"></div>');
      for (let i = 1; i <= totalDays; i++) {
        const isoDate = `${year}-${month}-${i}`;
        let status = isPublic(month) ? (i % 7 === 0 ? 'ä¼‘é¤¨' : i % 5 === 0 ? 'ç©ºç„¡' : `æ®‹${Math.floor(Math.random()*4)+1}`) : '';
        let inner = status ? (status === 'ç©ºç„¡' ? `<div class='text-xs text-gray-400'>${status}</div>` :
                    status === 'ä¼‘é¤¨' ? `<div class='text-xs text-blue-400'>${status}</div>` :
                    `<div class='text-xs text-white bg-blue-500 rounded-full inline-block px-2'>${status}</div>`) : '';
        const dateClass = isPublic(month) ? "hover:bg-gray-100 cursor-pointer" : "text-gray-400";
        cells.push(`<div class="calendar-day py-3 border-t border-gray-200 ${dateClass}" onclick="switchToSetting(${year}, ${month}, ${i})" data-date="${isoDate}">${i}${inner}</div>`);
      }
      container.innerHTML = cells.join('');
    }

    renderCalendar(6, getDaysInMonth(2025, 3), 2025, 3, calendarGrid3);
    renderCalendar(1, getDaysInMonth(2025, 4), 2025, 4, calendarGrid4);
    updateCalendarTitle('calendarTitle3', 2025, 3);
    updateCalendarTitle('calendarTitle4', 2025, 4);
  });
  document.getElementById('backToCalendar').addEventListener('click', function () {
    document.getElementById('calendarSection').classList.remove('hidden');
    document.getElementById('showroomInfo').classList.remove('hidden');
    document.getElementById('settingSection').classList.add('hidden');
  });
</script>
</body>
</html>
